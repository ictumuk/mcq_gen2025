/* Tailwind CSS v4 Configuration */
@import "tailwindcss";

/* Source files to scan for classes */
@source "../../templates/*.html";
@source "../../templates/**/*.html";
@source "../js/*.js";

/* Dark Mode Configuration */
@variant dark (&:where(.dark, .dark *));

/* Custom Theme Configuration */
@theme {
    /* Colors */
    --color-blue-50: #eff6ff;
    --color-blue-100: #dbeafe;
    --color-blue-200: #bfdbfe;
    --color-blue-300: #93c5fd;
    --color-blue-400: #60a5fa;
    --color-blue-500: #3b82f6;
    --color-blue-600: #2563eb;
    --color-blue-700: #1d4ed8;
    --color-blue-800: #1e40af;
    --color-blue-900: #1e3a8a;
    
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-200: #e5e7eb;
    --color-gray-300: #d1d5db;
    --color-gray-400: #9ca3af;
    --color-gray-500: #6b7280;
    --color-gray-600: #4b5563;
    --color-gray-700: #374151;
    --color-gray-800: #1f2937;
    --color-gray-900: #111827;
    
    --color-green-50: #f0fdf4;
    --color-green-100: #dcfce7;
    --color-green-500: #22c55e;
    --color-green-600: #16a34a;
    
    --color-red-50: #fef2f2;
    --color-red-100: #fee2e2;
    --color-red-500: #ef4444;
    --color-red-600: #dc2626;
    
    --color-yellow-50: #fefce8;
    --color-yellow-100: #fef9c3;
    --color-yellow-500: #eab308;
    --color-yellow-600: #ca8a04;
    
    --color-purple-50: #faf5ff;
    --color-purple-100: #f3e8ff;
    --color-purple-500: #a855f7;
    --color-purple-600: #9333ea;
}

/* ===== CUSTOM STYLES ===== */

/* Font */
* { 
    font-family: 'Plus Jakarta Sans', ui-sans-serif, system-ui, sans-serif; 
}

/* CSS Variables for Dark Mode */
:root { 
    --bg-primary: #ffffff; 
    --bg-secondary: #f8fafc; 
    --text-primary: #0f172a; 
    --text-secondary: #64748b; 
    --border-color: #e2e8f0; 
}

.dark { 
    --bg-primary: #0f172a; 
    --bg-secondary: #1e293b; 
    --text-primary: #f8fafc; 
    --text-secondary: #94a3b8; 
    --border-color: #334155; 
}

body { 
    background: var(--bg-primary); 
    color: var(--text-primary); 
    transition: all 0.3s ease; 
}

/* Custom Scrollbar */
::-webkit-scrollbar { 
    width: 6px; 
    height: 6px; 
}

::-webkit-scrollbar-track { 
    background: var(--bg-secondary); 
}

::-webkit-scrollbar-thumb { 
    background: #3b82f6; 
    border-radius: 3px; 
}

/* Gradient Backgrounds */
.gradient-bg { 
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%); 
}

.gradient-border { 
    background: linear-gradient(135deg, #3b82f6, #60a5fa); 
}

/* Gradient Text */
.gradient-text {
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
}

/* Glass Effect */
.glass { 
    background: rgba(255, 255, 255, 0.8); 
    backdrop-filter: blur(20px); 
    border: 1px solid rgba(255, 255, 255, 0.3); 
}

.dark .glass { 
    background: rgba(30, 41, 59, 0.8); 
    border: 1px solid rgba(51, 65, 85, 0.5); 
}

/* ===== ANIMATIONS ===== */
@keyframes fadeInUp { 
    from { opacity: 0; transform: translateY(20px); } 
    to { opacity: 1; transform: translateY(0); } 
}

@keyframes spin { 
    to { transform: rotate(360deg); } 
}

@keyframes bounce { 
    0%, 100% { transform: translateY(0); } 
    50% { transform: translateY(-10px); } 
}

@keyframes shimmer { 
    0% { background-position: 200% 0; } 
    100% { background-position: -200% 0; } 
}

@keyframes skeleton-loading { 
    0% { background-position: 200% 0; } 
    100% { background-position: -200% 0; } 
}

.animate-fade-in { 
    animation: fadeInUp 0.5s ease-out forwards; 
}

.animate-spin-slow { 
    animation: spin 2s linear infinite; 
}

.animate-bounce-slow { 
    animation: bounce 2s ease-in-out infinite; 
}

/* Stagger Animations */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }

/* ===== COMPONENTS ===== */

/* File Upload Zone */
.upload-zone { 
    border: 2px dashed #3b82f6; 
    transition: all 0.3s ease; 
}

.upload-zone:hover, 
.upload-zone.dragover { 
    border-color: #1d4ed8; 
    background: rgba(59, 130, 246, 0.05); 
    transform: scale(1.01); 
}

.dark .upload-zone { 
    border-color: #60a5fa; 
}

.dark .upload-zone:hover,
.dark .upload-zone.dragover { 
    background: rgba(59, 130, 246, 0.1); 
}

/* Question Card */
.question-card { 
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
}

.question-card:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 20px 40px -12px rgba(59, 130, 246, 0.25); 
}

/* Option Styling */
.option-item { 
    transition: all 0.2s ease; 
}

.option-item:hover { 
    transform: translateX(4px); 
}

.option-correct { 
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%); 
    border-color: #22c55e !important; 
}

/* Progress Bar Animation */
.progress-bar { 
    background: linear-gradient(90deg, #3b82f6, #60a5fa, #3b82f6); 
    background-size: 200% 100%; 
    animation: shimmer 1.5s infinite; 
}

/* Processing Steps */
.step-active { color: #3b82f6; }
.step-done { color: #22c55e; }
.step-pending { color: #94a3b8; }

/* Tooltip */
.tooltip { 
    position: relative; 
}

.tooltip::after { 
    content: attr(data-tooltip); 
    position: absolute; 
    bottom: 100%; 
    left: 50%; 
    transform: translateX(-50%); 
    padding: 0.5rem 1rem; 
    background: #1e293b; 
    color: white; 
    border-radius: 0.5rem; 
    font-size: 0.75rem; 
    white-space: nowrap; 
    opacity: 0; 
    pointer-events: none; 
    transition: opacity 0.2s;
    z-index: 50;
}

.tooltip:hover::after { 
    opacity: 1; 
}

/* Tab Styling */
.tab-active { 
    background: linear-gradient(135deg, #3b82f6, #2563eb); 
    color: white; 
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); 
}

/* Editable Content */
[contenteditable]:focus { 
    outline: 2px solid #3b82f6; 
    outline-offset: 2px; 
    border-radius: 4px; 
}

/* Range Slider */
input[type="range"] { 
    -webkit-appearance: none; 
    background: transparent; 
}

input[type="range"]::-webkit-slider-runnable-track { 
    height: 8px; 
    background: linear-gradient(to right, #3b82f6 var(--progress, 20%), #e2e8f0 var(--progress, 20%)); 
    border-radius: 4px; 
}

input[type="range"]::-webkit-slider-thumb { 
    -webkit-appearance: none; 
    width: 20px; 
    height: 20px; 
    background: #3b82f6; 
    border-radius: 50%; 
    margin-top: -6px; 
    cursor: pointer; 
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4); 
}

input[type="range"]::-moz-range-track {
    height: 8px;
    background: #e2e8f0;
    border-radius: 4px;
}

input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: #3b82f6;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
}

/* Skeleton Loader */
.skeleton { 
    background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%); 
    background-size: 200% 100%; 
    animation: skeleton-loading 1.5s infinite; 
}

.dark .skeleton { 
    background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%); 
    background-size: 200% 100%; 
}

/* ===== MODAL ANIMATIONS ===== */

/* Slide In from Right (Toast) */
@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.animate-slide-in {
    animation: slideInRight 0.3s ease-out forwards;
}

/* Modal Scale In Animation */
@keyframes modalScaleIn {
    from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes modalScaleOut {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
    to {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
    }
}

/* Backdrop Fade */
@keyframes backdropFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes backdropFadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* ===== INPUT ANIMATIONS ===== */

/* Input Focus Animation */
@keyframes inputFocusGlow {
    0% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
    }
    70% {
        box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
    }
}

/* Shake Animation (for validation errors) */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.animate-shake {
    animation: shake 0.5s ease-in-out;
}

/* Pulse Border Animation */
@keyframes pulseBorder {
    0%, 100% {
        border-color: rgba(59, 130, 246, 0.5);
    }
    50% {
        border-color: rgba(59, 130, 246, 1);
    }
}

.animate-pulse-border {
    animation: pulseBorder 2s ease-in-out infinite;
}

/* Success Check Animation */
@keyframes successPop {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.animate-success-pop {
    animation: successPop 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

/* ===== BUTTON ANIMATIONS ===== */

/* Button Press Effect */
@keyframes buttonPress {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

.animate-press {
    animation: buttonPress 0.15s ease-out;
}

/* Ripple Effect */
@keyframes ripple {
    0% {
        transform: scale(0);
        opacity: 0.5;
    }
    100% {
        transform: scale(4);
        opacity: 0;
    }
}

.btn-ripple {
    position: relative;
    overflow: hidden;
}

.btn-ripple::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
    background-repeat: no-repeat;
    background-position: 50%;
    transform: scale(10, 10);
    opacity: 0;
    transition: transform 0.3s, opacity 0.5s;
}

.btn-ripple:active::after {
    transform: scale(0, 0);
    opacity: 0.3;
    transition: 0s;
}

/* ===== ENHANCED INPUT STYLES ===== */

/* Custom Input with Animation */
.input-animated {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid transparent;
    background-clip: padding-box;
}

.input-animated:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
    transform: translateY(-1px);
}

.input-animated:hover:not(:focus) {
    border-color: rgba(59, 130, 246, 0.3);
}

/* Input Error State */
.input-error {
    border-color: #ef4444 !important;
    animation: shake 0.5s ease-in-out;
}

.input-error:focus {
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);
}

/* Input Success State */
.input-success {
    border-color: #22c55e !important;
}

.input-success:focus {
    box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.1);
}

/* Floating Label Style */
.floating-label-group {
    position: relative;
}

.floating-label-group input,
.floating-label-group textarea {
    padding-top: 1.5rem;
}

.floating-label-group label {
    position: absolute;
    top: 50%;
    left: 1rem;
    transform: translateY(-50%);
    transition: all 0.2s ease;
    pointer-events: none;
    color: #9ca3af;
}

.floating-label-group input:focus ~ label,
.floating-label-group input:not(:placeholder-shown) ~ label,
.floating-label-group textarea:focus ~ label,
.floating-label-group textarea:not(:placeholder-shown) ~ label {
    top: 0.5rem;
    transform: translateY(0);
    font-size: 0.75rem;
    color: #3b82f6;
}

/* ===== ANSWER OPTION ANIMATIONS ===== */

/* Option Select Animation */
@keyframes optionSelect {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

.option-selected {
    animation: optionSelect 0.2s ease-out;
}

/* Answer Button Hover */
.answer-btn {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.answer-btn:hover {
    transform: scale(1.1);
}

.answer-btn:active {
    transform: scale(0.95);
}

/* ===== CARD ANIMATIONS ===== */

/* Card Enter Animation */
@keyframes cardEnter {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-card-enter {
    animation: cardEnter 0.4s ease-out forwards;
}

/* Card Exit Animation */
@keyframes cardExit {
    from {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    to {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
}

.animate-card-exit {
    animation: cardExit 0.3s ease-in forwards;
}

/* ===== LOADING STATES ===== */

/* Dots Loading */
@keyframes dotsLoading {
    0%, 80%, 100% { 
        transform: scale(0);
        opacity: 0.5;
    }
    40% { 
        transform: scale(1);
        opacity: 1;
    }
}

.loading-dots span {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #3b82f6;
    margin: 0 3px;
    animation: dotsLoading 1.4s infinite ease-in-out both;
}

.loading-dots span:nth-child(1) { animation-delay: -0.32s; }
.loading-dots span:nth-child(2) { animation-delay: -0.16s; }
.loading-dots span:nth-child(3) { animation-delay: 0s; }

/* Gradient Border Animation */
@keyframes gradientBorder {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.animate-gradient-border {
    background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899, #3b82f6);
    background-size: 300% 300%;
    animation: gradientBorder 3s ease infinite;
}

/* ===== UTILITY CLASSES ===== */

/* Smooth transitions for all interactive elements */
.transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Hover lift effect */
.hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

/* Focus visible styles */
.focus-ring {
    outline: none;
}

.focus-ring:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* ===== MODAL STYLES ===== */

/* Modal Backdrop */
#addQuestionModal .modal-backdrop {
    opacity: 0;
    transition: opacity 0.3s ease;
}

#addQuestionModal .modal-content {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#addQuestionModal.show .modal-backdrop {
    opacity: 1;
}

#addQuestionModal.show .modal-content {
    opacity: 1;
    transform: scale(1) translateY(0);
}

/* Modal Body Scrollbar */
#addQuestionModal .modal-body::-webkit-scrollbar {
    width: 6px;
}

#addQuestionModal .modal-body::-webkit-scrollbar-thumb {
    background: #3b82f6;
    border-radius: 3px;
}

#addQuestionModal .modal-body::-webkit-scrollbar-track {
    background: #e5e7eb;
    border-radius: 3px;
}

.dark #addQuestionModal .modal-body::-webkit-scrollbar-track {
    background: #374151;
}